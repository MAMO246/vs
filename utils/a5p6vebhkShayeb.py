#TeleGram: @ADIL721
import base64
exec(base64.b64decode('IyEvdXNyL2Jpbi9lbnYgcHl0aG9uMwojIENvcHlyaWdodCAoQykgQHN1YmlucHMKIyBUaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeQojIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieQojIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yCiMgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi4KCiMgVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCiMgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YKIyBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlCiMgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuCgojIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZQojIGFsb25nIHdpdGggdGhpcyBwcm9ncmFtLiAgSWYgbm90LCBzZWUgPGh0dHBzOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi4KCmZyb20gLmxvZ2dlciBpbXBvcnQgTE9HR0VSCmZyb20gY29uZmlnIGltcG9ydCBDb25maWcKaW1wb3J0IG9zCmltcG9ydCB0aW1lCmZyb20gdGhyZWFkaW5nIGltcG9ydCBUaHJlYWQKaW1wb3J0IHN5cwppZiBDb25maWcuREFUQUJBU0VfVVJJOgogICAgZnJvbSAuZGF0YWJhc2UgaW1wb3J0IGRiCmZyb20gcHlyb2dyYW0gaW1wb3J0ICgKICAgIENsaWVudCwgCiAgICBmaWx0ZXJzCikKZnJvbSBweXJvZ3JhbS5lcnJvcnMgaW1wb3J0ICgKICAgIE1lc3NhZ2VJZEludmFsaWQsIAogICAgTWVzc2FnZU5vdE1vZGlmaWVkCikKZnJvbSBweXJvZ3JhbS50eXBlcyBpbXBvcnQgKAogICAgSW5saW5lS2V5Ym9hcmRCdXR0b24sIAogICAgSW5saW5lS2V5Ym9hcmRNYXJrdXAsIAogICAgTWVzc2FnZQopCmZyb20gY29udGV4dGxpYiBpbXBvcnQgc3VwcHJlc3MKCmRlYnVnID0gQ2xpZW50KAogICAgIkRlYnVnIiwKICAgIENvbmZpZy5BUElfSUQsCiAgICBDb25maWcuQVBJX0hBU0gsCiAgICBib3RfdG9rZW49Q29uZmlnLkJPVF9UT0tFTiwKKQoKCkBkZWJ1Zy5vbl9tZXNzYWdlKGZpbHRlcnMuY29tbWFuZChbJ2VudicsIGYiZW52QHtDb25maWcuQk9UX1VTRVJOQU1FfSIsICJjb25maWciLCBmImNvbmZpZ0B7Q29uZmlnLkJPVF9VU0VSTkFNRX0iXSkgJiBmaWx0ZXJzLnByaXZhdGUgJiBmaWx0ZXJzLnVzZXIoQ29uZmlnLkFETUlOUykpCmFzeW5jIGRlZiBzZXRfaGVyb2t1X3ZhcihjbGllbnQsIG1lc3NhZ2UpOgogICAgaWYgbWVzc2FnZS5mcm9tX3VzZXIuaWQgbm90IGluIENvbmZpZy5TVURPOgogICAgICAgIHJldHVybiBhd2FpdCBtZXNzYWdlLnJlcGx5KGYiL2VudiBjb21tYW5kIGNhbiBvbmx5IGJlIHVzZWQgYnkgY3JlYXRvciBvZiB0aGUgYm90LCAoe3N0cihDb25maWcuU1VETyl9KSIpCiAgICB3aXRoIHN1cHByZXNzKE1lc3NhZ2VJZEludmFsaWQsIE1lc3NhZ2VOb3RNb2RpZmllZCk6CiAgICAgICAgbSA9IGF3YWl0IG1lc3NhZ2UucmVwbHkoIkNoZWNraW5nIGNvbmZpZyB2YXJzLi4iKQogICAgICAgIGlmICIgIiBpbiBtZXNzYWdlLnRleHQ6CiAgICAgICAgICAgIGNtZCwgZW52ID0gbWVzc2FnZS50ZXh0LnNwbGl0KCIgIiwgMSkKICAgICAgICAgICAgaWYgIG5vdCAiPSIgaW4gZW52OgogICAgICAgICAgICAgICAgYXdhaXQgbS5lZGl0KCJZb3Ugc2hvdWxkIHNwZWNpZnkgdGhlIHZhbHVlIGZvciBlbnYuXG5FeGFtcGxlOiAvZW52IENIQVQ9LTEwMDIxMzY1ODIxMSIpCiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgdmFyLCB2YWx1ZSA9IGVudi5zcGxpdCgiPSIsIDEpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgYXdhaXQgbS5lZGl0KCJZb3UgaGF2ZW4ndCBwcm92aWRlZCBhbnkgdmFsdWUgZm9yIGVudiwgeW91IHNob3VsZCBmb2xsb3cgdGhlIGNvcnJlY3QgZm9ybWF0LlxuRXhhbXBsZTogPGNvZGU+L2VudiBDSEFUPS0xMDIwMjAyMDIwMjAyPC9jb2RlPiB0byBjaGFuZ2Ugb3Igc2V0IENIQVQgdmFyLlxuPGNvZGU+L2VudiBSRVBMWV9NRVNTQUdFPSA8Y29kZT5UbyBkZWxldGUgUkVQTFlfTUVTU0FHRS4iKQogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgaWYgQ29uZmlnLkRBVEFCQVNFX1VSSSBhbmQgdmFyIGluIFsiU1RBUlRVUF9TVFJFQU0iLCAiQ0hBVCIsICJMT0dfR1JPVVAiLCAiUkVQTFlfTUVTU0FHRSIsICJERUxBWSIsICJSRUNPUkRJTkdfRFVNUCJdOiAgICAgIAogICAgICAgICAgICBhd2FpdCBtLmVkaXQoIk1vbmdvIERCIEZvdW5kLCBTZXR0aW5nIHVwIGNvbmZpZyB2YXJzLi4uIikgCiAgICAgICAgICAgIGlmIG5vdCB2YWx1ZToKICAgICAgICAgICAgICAgIGF3YWl0IG0uZWRpdChmIk5vIHZhbHVlIGZvciBlbnYgc3BlY2lmaWVkLiBUcnlpbmcgdG8gZGVsZXRlIGVudiB7dmFyfS4iKQogICAgICAgICAgICAgICAgaWYgdmFyIGluIFsiU1RBUlRVUF9TVFJFQU0iLCAiQ0hBVCIsICJERUxBWSJdOgogICAgICAgICAgICAgICAgICAgIGF3YWl0IG0uZWRpdCgiVGhpcyBpcyBhIG1hbmRhdG9yeSB2YXIgYW5kIGNhbm5vdCBiZSBkZWxldGVkLiIpCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICBhd2FpdCBlZGl0X2NvbmZpZyh2YXIsIEZhbHNlKQogICAgICAgICAgICAgICAgYXdhaXQgbS5lZGl0KGYiU3VjZXNzZnVsbHkgZGVsZXRlZCB7dmFyfSIpCiAgICAgICAgICAgCiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGlmIHZhciBpbiBbIkNIQVQiLCAiTE9HX0dST1VQIiwgIlJFQ09SRElOR19EVU1QIl06CiAgICAgICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT1pbnQodmFsdWUpCiAgICAgICAgICAgICAgICAgICAgZXhjZXB0OgogICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBtLmVkaXQoIllvdSBzaG91bGQgZ2l2ZSBtZSBhIGNoYXQgaWQgLiBJdCBzaG91bGQgYmUgYW4gaW50ZXJnZXIuIikKICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICAgICAgaWYgdmFyID09ICJDSEFUIjoKICAgICAgICAgICAgICAgICAgICAgICAgQ29uZmlnLkFETUlOX0NBQ0hFPUZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIENvbmZpZy5DSEFUPWludCh2YWx1ZSkKICAgICAgICAgICAgICAgICAgICBhd2FpdCBlZGl0X2NvbmZpZyh2YXIsIGludCh2YWx1ZSkpCiAgICAgICAgICAgICAgICAgICAgYXdhaXQgbS5lZGl0KGYiU3VjY2VzZnVsbHkgY2hhbmdlZCB7dmFyfSB0byB7dmFsdWV9IikKICAgIAogICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBpZiB2YXIgPT0gIlNUQVJUVVBfU1RSRUFNIjoKICAgICAgICAgICAgICAgICAgICAgICAgQ29uZmlnLlNUUkVBTV9TRVRVUD1GYWxzZQogICAgICAgICAgICAgICAgICAgIGF3YWl0IGVkaXRfY29uZmlnKHZhciwgdmFsdWUpCiAgICAgICAgICAgICAgICAgICAgYXdhaXQgbS5lZGl0KGYiU3VjY2VzZnVsbHkgY2hhbmdlZCB7dmFyfSB0byB7dmFsdWV9IikKICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICBlbHNlOgogICAgICAgICAgICBpZiBub3QgQ29uZmlnLkhFUk9LVV9BUFA6CiAgICAgICAgICAgICAgICBidXR0b25zID0gW1tJbmxpbmVLZXlib2FyZEJ1dHRvbignSGVyb2t1IEFQSV9LRVknLCB1cmw9J2h0dHBzOi8vZGFzaGJvYXJkLmhlcm9rdS5jb20vYWNjb3VudC9hcHBsaWNhdGlvbnMvYXV0aG9yaXphdGlvbnMvbmV3JyksIElubGluZUtleWJvYXJkQnV0dG9uKCfwn5eRIENsb3NlJywgY2FsbGJhY2tfZGF0YT0nY2xvc2UnKSxdXQogICAgICAgICAgICAgICAgYXdhaXQgbS5lZGl0KAogICAgICAgICAgICAgICAgICAgIHRleHQ9Ik5vIGhlcm9rdSBhcHAgZm91bmQsIHRoaXMgY29tbWFuZCBuZWVkcyB0aGUgZm9sbG93aW5nIGhlcm9rdSB2YXJzIHRvIGJlIHNldC5cblxuMS4gPGNvZGU+SEVST0tVX0FQSV9LRVk8L2NvZGU+OiBZb3VyIGhlcm9rdSBhY2NvdW50IGFwaSBrZXkuXG4yLiA8Y29kZT5IRVJPS1VfQVBQX05BTUU8L2NvZGU+OiBZb3VyIGhlcm9rdSBhcHAgbmFtZS4iLCAKICAgICAgICAgICAgICAgICAgICByZXBseV9tYXJrdXA9SW5saW5lS2V5Ym9hcmRNYXJrdXAoYnV0dG9ucykpIAogICAgICAgICAgICAgICAgcmV0dXJuICAgICAKICAgICAgICAgICAgY29uZmlnID0gQ29uZmlnLkhFUk9LVV9BUFAuY29uZmlnKCkKICAgICAgICAgICAgaWYgbm90IHZhbHVlOgogICAgICAgICAgICAgICAgYXdhaXQgbS5lZGl0KGYiTm8gdmFsdWUgZm9yIGVudiBzcGVjaWZpZWQuIFRyeWluZyB0byBkZWxldGUgZW52IHt2YXJ9LiIpCiAgICAgICAgICAgICAgICBpZiB2YXIgaW4gWyJTVEFSVFVQX1NUUkVBTSIsICJDSEFUIiwgIkRFTEFZIiwgIkFQSV9JRCIsICJBUElfSEFTSCIsICJCT1RfVE9LRU4iLCAiU0VTU0lPTl9TVFJJTkciLCAiQURNSU5TIl06CiAgICAgICAgICAgICAgICAgICAgYXdhaXQgbS5lZGl0KCJUaGVzZSBhcmUgbWFuZGF0b3J5IHZhcnMgYW5kIGNhbm5vdCBiZSBkZWxldGVkLiIpCiAgICAKICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgIGlmIHZhciBpbiBjb25maWc6CiAgICAgICAgICAgICAgICAgICAgYXdhaXQgbS5lZGl0KGYiU3VjZXNzZnVsbHkgZGVsZXRlZCB7dmFyfSIpCiAgICAgICAgICAgICAgICAgICAgYXdhaXQgbS5lZGl0KCJOb3cgcmVzdGFydGluZyB0aGUgYXBwIHRvIG1ha2UgY2hhbmdlcy4iKQogICAgICAgICAgICAgICAgICAgIGlmIENvbmZpZy5EQVRBQkFTRV9VUkk6CiAgICAgICAgICAgICAgICAgICAgICAgIG1zZyA9IHsibXNnX2lkIjptLm1lc3NhZ2VfaWQsICJjaGF0X2lkIjptLmNoYXQuaWR9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIG5vdCBhd2FpdCBkYi5pc19zYXZlZCgiUkVTVEFSVCIpOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGIuYWRkX2NvbmZpZygiUkVTVEFSVCIsIG1zZykKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGRiLmVkaXRfY29uZmlnKCJSRVNUQVJUIiwgbXNnKQogICAgICAgICAgICAgICAgICAgIGRlbCBjb25maWdbdmFyXSAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBjb25maWdbdmFyXSA9IE5vbmUgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgayA9IGF3YWl0IG0uZWRpdChmIk5vIGVudiBuYW1lZCB7dmFyfSBmb3VuZC4gTm90aGluZyB3YXMgY2hhbmdlZC4iKQogICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIGlmIHZhciBpbiBjb25maWc6CiAgICAgICAgICAgICAgICBhd2FpdCBtLmVkaXQoZiJWYXJpYWJsZSBhbHJlYWR5IGZvdW5kLiBOb3cgZWRpdGVkIHRvIHt2YWx1ZX0iKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgYXdhaXQgbS5lZGl0KGYiVmFyaWFibGUgbm90IGZvdW5kLCBOb3cgc2V0dGluZyBhcyBuZXcgdmFyLiIpCiAgICAgICAgICAgIGF3YWl0IG0uZWRpdChmIlN1Y2Nlc2Z1bGx5IHNldCB7dmFyfSB3aXRoIHZhbHVlIHt2YWx1ZX0sIE5vdyBSZXN0YXJ0aW5nIHRvIHRha2UgZWZmZWN0IG9mIGNoYW5nZXMuLi4iKQogICAgICAgICAgICBpZiBDb25maWcuREFUQUJBU0VfVVJJOgogICAgICAgICAgICAgICAgbXNnID0geyJtc2dfaWQiOm0ubWVzc2FnZV9pZCwgImNoYXRfaWQiOm0uY2hhdC5pZH0KICAgICAgICAgICAgICAgIGlmIG5vdCBhd2FpdCBkYi5pc19zYXZlZCgiUkVTVEFSVCIpOgogICAgICAgICAgICAgICAgICAgIGRiLmFkZF9jb25maWcoIlJFU1RBUlQiLCBtc2cpCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIGF3YWl0IGRiLmVkaXRfY29uZmlnKCJSRVNUQVJUIiwgbXNnKQogICAgICAgICAgICBjb25maWdbdmFyXSA9IHN0cih2YWx1ZSkKCkBkZWJ1Zy5vbl9tZXNzYWdlKGZpbHRlcnMuY29tbWFuZChbInJlc3RhcnQiLCBmInJlc3RhcnRAe0NvbmZpZy5CT1RfVVNFUk5BTUV9Il0pICYgZmlsdGVycy5wcml2YXRlICYgZmlsdGVycy51c2VyKENvbmZpZy5BRE1JTlMpKQphc3luYyBkZWYgdXBkYXRlKGJvdCwgbWVzc2FnZSk6CiAgICBtPWF3YWl0IG1lc3NhZ2UucmVwbHkoIlJlc3RhcnRpbmcgd2l0aCBuZXcgY2hhbmdlcy4uIikKICAgIGlmIENvbmZpZy5EQVRBQkFTRV9VUkk6CiAgICAgICAgbXNnID0geyJtc2dfaWQiOm0ubWVzc2FnZV9pZCwgImNoYXRfaWQiOm0uY2hhdC5pZH0KICAgICAgICBpZiBub3QgYXdhaXQgZGIuaXNfc2F2ZWQoIlJFU1RBUlQiKToKICAgICAgICAgICAgZGIuYWRkX2NvbmZpZygiUkVTVEFSVCIsIG1zZykKICAgICAgICBlbHNlOgogICAgICAgICAgICBhd2FpdCBkYi5lZGl0X2NvbmZpZygiUkVTVEFSVCIsIG1zZykKICAgIGlmIENvbmZpZy5IRVJPS1VfQVBQOgogICAgICAgIENvbmZpZy5IRVJPS1VfQVBQLnJlc3RhcnQoKQogICAgZWxzZToKICAgICAgICBUaHJlYWQoCiAgICAgICAgICAgIHRhcmdldD1zdG9wX2FuZF9yZXN0YXJ0KCkKICAgICAgICAgICAgKS5zdGFydCgpCgpAZGVidWcub25fbWVzc2FnZShmaWx0ZXJzLmNvbW1hbmQoWyJjbGVhcnBsYXlsaXN0IiwgZiJjbGVhcnBsYXlsaXN0QHtDb25maWcuQk9UX1VTRVJOQU1FfSJdKSAmIGZpbHRlcnMucHJpdmF0ZSAmIGZpbHRlcnMudXNlcihDb25maWcuQURNSU5TKSkKYXN5bmMgZGVmIGNsZWFyX3BsYXlfbGlzdChjbGllbnQsIG06IE1lc3NhZ2UpOgogICAgaWYgbm90IENvbmZpZy5wbGF5bGlzdDoKICAgICAgICBrID0gYXdhaXQgbS5yZXBseSgiUGxheWxpc3QgaXMgZW1wdHkuIikgIAogICAgICAgIHJldHVybgogICAgQ29uZmlnLnBsYXlsaXN0LmNsZWFyKCkKICAgIGs9YXdhaXQgbS5yZXBseV90ZXh0KGYiUGxheWxpc3QgQ2xlYXJlZC4iKQogICAgYXdhaXQgY2xlYXJfZGJfcGxheWxpc3QoYWxsPVRydWUpCgogICAgCkBkZWJ1Zy5vbl9tZXNzYWdlKGZpbHRlcnMuY29tbWFuZChbInNraXAiLCBmInNraXBAe0NvbmZpZy5CT1RfVVNFUk5BTUV9Il0pICYgZmlsdGVycy5wcml2YXRlICYgZmlsdGVycy51c2VyKENvbmZpZy5BRE1JTlMpKQphc3luYyBkZWYgc2tpcF90cmFjayhfLCBtOiBNZXNzYWdlKToKICAgIG1zZz1hd2FpdCBtLnJlcGx5KCd0cnlpbmcgdG8gc2tpcCBmcm9tIHF1ZXVlLi4nKQogICAgaWYgbm90IENvbmZpZy5wbGF5bGlzdDoKICAgICAgICBhd2FpdCBtc2cuZWRpdCgi2LnYsNix2KfZiyDZgtin2KbZhdipINin2YTYqti02LrZitmEINmB2KfYsdi62Knwn5iQ4pml77iPLiIpCiAgICAgICAgcmV0dXJuCiAgICBpZiBsZW4obS5jb21tYW5kKSA9PSAxOgogICAgICAgIG9sZF90cmFjayA9IENvbmZpZy5wbGF5bGlzdC5wb3AoMCkKICAgICAgICBhd2FpdCBjbGVhcl9kYl9wbGF5bGlzdChzb25nPW9sZF90cmFjaykKICAgIGVsc2U6CiAgICAgICAgI2h0dHBzOi8vZ2l0aHViLmNvbS9jYWxsc211c2ljL3RndmMtdXNlcmJvdC9ibG9iL2Rldi9wbHVnaW5zL3ZjL3BsYXllci5weSNMMjY4LUwyODgKICAgICAgICB0cnk6CiAgICAgICAgICAgIGl0ZW1zID0gbGlzdChkaWN0LmZyb21rZXlzKG0uY29tbWFuZFsxOl0pKQogICAgICAgICAgICBpdGVtcyA9IFtpbnQoeCkgZm9yIHggaW4gaXRlbXMgaWYgeC5pc2RpZ2l0KCldCiAgICAgICAgICAgIGl0ZW1zLnNvcnQocmV2ZXJzZT1UcnVlKQogICAgICAgICAgICBmb3IgaSBpbiBpdGVtczoKICAgICAgICAgICAgICAgIGlmIDIgPD0gaSA8PSAobGVuKENvbmZpZy5wbGF5bGlzdCkgLSAxKToKICAgICAgICAgICAgICAgICAgICBhd2FpdCBtc2cuZWRpdChmIlN1Y2Nlc2Z1bGx5IFJlbW92ZWQgZnJvbSBQbGF5bGlzdC0ge2l9LiAqKntDb25maWcucGxheWxpc3RbaV1bMV19KioiKQogICAgICAgICAgICAgICAgICAgIGF3YWl0IGNsZWFyX2RiX3BsYXlsaXN0KHNvbmc9Q29uZmlnLnBsYXlsaXN0W2ldKQogICAgICAgICAgICAgICAgICAgIENvbmZpZy5wbGF5bGlzdC5wb3AoaSkKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgYXdhaXQgbXNnLmVkaXQoZiJZb3UgY2FudCBza2lwIGZpcnN0IHR3byBzb25ncy0ge2l9IikKICAgICAgICBleGNlcHQgKFZhbHVlRXJyb3IsIFR5cGVFcnJvcik6CiAgICAgICAgICAgIGF3YWl0IG1zZy5lZGl0KCJJbnZhbGlkIGlucHV0IikKICAgIHBsPWF3YWl0IGdldF9wbGF5bGlzdF9zdHIoKQogICAgYXdhaXQgbXNnLmVkaXQocGwsIGRpc2FibGVfd2ViX3BhZ2VfcHJldmlldz1UcnVlKQoKCkBkZWJ1Zy5vbl9tZXNzYWdlKGZpbHRlcnMuY29tbWFuZChbJ2xvZ3MnLCBmImxvZ3NAe0NvbmZpZy5CT1RfVVNFUk5BTUV9Il0pICYgZmlsdGVycy5wcml2YXRlICYgZmlsdGVycy51c2VyKENvbmZpZy5BRE1JTlMpKQphc3luYyBkZWYgZ2V0X2xvZ3MoY2xpZW50LCBtZXNzYWdlKToKICAgIG09YXdhaXQgbWVzc2FnZS5yZXBseSgiQ2hlY2tpbmcgbG9ncy4uIikKICAgIGlmIG9zLnBhdGguZXhpc3RzKCJib3Rsb2cudHh0Iik6CiAgICAgICAgYXdhaXQgbWVzc2FnZS5yZXBseV9kb2N1bWVudCgnYm90bG9nLnR4dCcsIGNhcHRpb249IkJvdCBMb2dzIikKICAgICAgICBhd2FpdCBtLmRlbGV0ZSgpCiAgICBlbHNlOgogICAgICAgIGsgPSBhd2FpdCBtLmVkaXQoIk5vIGxvZyBmaWxlcyBmb3VuZC4iKQoKQGRlYnVnLm9uX21lc3NhZ2UoZmlsdGVycy50ZXh0ICYgZmlsdGVycy5wcml2YXRlKQphc3luYyBkZWYgcmVwbHlfZWxzZShib3QsIG1lc3NhZ2UpOgogICAgYXdhaXQgbWVzc2FnZS5yZXBseShmIkRldmVsb3BtZW50IG1vZGUgaXMgYWN0aXZhdGVkLlxuVGhpcyBvY2N1cmVzIHdoZW4gdGhlcmUgYXJlIHNvbWUgZXJyb3JzIGluIHN0YXJ0dXAgb2YgdGhlIGJvdC5cbk9ubHkgQ29uZmlndXJhdGlvbiBjb21tYW5kcyB3b3JrcyBpbiBkZXZlbG9wbWVudCBtb2RlLlxuQXZhaWxhYmUgY29tbWFuZHMgYXJlIC9lbnYsIC9za2lwLCAvY2xlYXJwbGF5bGlzdCBhbmQgL3Jlc3RhcnQgYW5kIC9sb2dzXG5cbioqVGhlIGNhdXNlIGZvciBhY3RpdmF0aW9uIG9mIGRldmVsb3BtZW50IG1vZGUgd2FzKipcblxuYHtzdHIoQ29uZmlnLlNUQVJUVVBfRVJST1IpfWAiKQoKZGVmIHN0b3BfYW5kX3Jlc3RhcnQoKToKICAgIG9zLnN5c3RlbSgiZ2l0IHB1bGwiKQogICAgdGltZS5zbGVlcCgxMCkKICAgIG9zLmV4ZWNsKHN5cy5leGVjdXRhYmxlLCBzeXMuZXhlY3V0YWJsZSwgKnN5cy5hcmd2KQoKYXN5bmMgZGVmIGdldF9wbGF5bGlzdF9zdHIoKToKICAgIGlmIG5vdCBDb25maWcucGxheWxpc3Q6CiAgICAgICAgcGwgPSBmIvCflIgg2YLYp9im2YXYqSDYp9mE2KrYtNi62YrZhCDZgdin2LHYutipLinjhaTjhaTjhaTjhaTjhaTjhaTjhaTjhaTjhaTjhaTjhaTjhaTjhaTjhaTjhaTjhaTjhaTjhaTjhaTjhaTjhaTjhaQiCiAgICBlbHNlOgogICAgICAgIGlmIGxlbihDb25maWcucGxheWxpc3QpPj0yNToKICAgICAgICAgICAgdHBsYXlsaXN0PUNvbmZpZy5wbGF5bGlzdFs6MjVdCiAgICAgICAgICAgIHBsPWYiTGlzdGluZyBmaXJzdCAyNSBzb25ncyBvZiB0b3RhbCB7bGVuKENvbmZpZy5wbGF5bGlzdCl9IHNvbmdzLlxuIgogICAgICAgICAgICBwbCArPSBmIuKWtu+4jyAqKlBsYXlsaXN0Kio6IOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpFxuIiArICJcbiIuam9pbihbCiAgICAgICAgICAgICAgICBmIioqe2l9KiouICoq8J+OuHt4WzFdfSoqXG4gICDwn5GkKipSZXF1ZXN0ZWQgYnk6Kioge3hbNF19IgogICAgICAgICAgICAgICAgZm9yIGksIHggaW4gZW51bWVyYXRlKHRwbGF5bGlzdCkKICAgICAgICAgICAgICAgIF0pCiAgICAgICAgICAgIHRwbGF5bGlzdC5jbGVhcigpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcGwgPSBmIuKWtu+4jyAqKlBsYXlsaXN0Kio6IOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpOOFpFxuIiArICJcbiIuam9pbihbCiAgICAgICAgICAgICAgICBmIioqe2l9KiouICoq8J+OuHt4WzFdfSoqXG4gICDwn5GkKipSZXF1ZXN0ZWQgYnk6Kioge3hbNF19XG4iCiAgICAgICAgICAgICAgICBmb3IgaSwgeCBpbiBlbnVtZXJhdGUoQ29uZmlnLnBsYXlsaXN0KQogICAgICAgICAgICBdKQogICAgcmV0dXJuIHBsCgoKCmFzeW5jIGRlZiBzeW5jX3RvX2RiKCk6CiAgICBpZiBDb25maWcuREFUQUJBU0VfVVJJOgogICAgICAgIGF3YWl0IGNoZWNrX2RiKCkgCiAgICAgICAgYXdhaXQgZGIuZWRpdF9jb25maWcoIkFETUlOUyIsIENvbmZpZy5BRE1JTlMpCiAgICAgICAgYXdhaXQgZGIuZWRpdF9jb25maWcoIklTX1ZJREVPIiwgQ29uZmlnLklTX1ZJREVPKQogICAgICAgIGF3YWl0IGRiLmVkaXRfY29uZmlnKCJJU19MT09QIiwgQ29uZmlnLklTX0xPT1ApCiAgICAgICAgYXdhaXQgZGIuZWRpdF9jb25maWcoIlJFUExZX1BNIiwgQ29uZmlnLlJFUExZX1BNKQogICAgICAgIGF3YWl0IGRiLmVkaXRfY29uZmlnKCJBRE1JTl9PTkxZIiwgQ29uZmlnLkFETUlOX09OTFkpICAKICAgICAgICBhd2FpdCBkYi5lZGl0X2NvbmZpZygiU0hVRkZMRSIsIENvbmZpZy5TSFVGRkxFKQogICAgICAgIGF3YWl0IGRiLmVkaXRfY29uZmlnKCJFRElUX1RJVExFIiwgQ29uZmlnLkVESVRfVElUTEUpCiAgICAgICAgYXdhaXQgZGIuZWRpdF9jb25maWcoIkNIQVQiLCBDb25maWcuQ0hBVCkKICAgICAgICBhd2FpdCBkYi5lZGl0X2NvbmZpZygiU1VETyIsIENvbmZpZy5TVURPKQogICAgICAgIGF3YWl0IGRiLmVkaXRfY29uZmlnKCJSRVBMWV9NRVNTQUdFIiwgQ29uZmlnLlJFUExZX01FU1NBR0UpCiAgICAgICAgYXdhaXQgZGIuZWRpdF9jb25maWcoIkxPR19HUk9VUCIsIENvbmZpZy5MT0dfR1JPVVApCiAgICAgICAgYXdhaXQgZGIuZWRpdF9jb25maWcoIlNUUkVBTV9VUkwiLCBDb25maWcuU1RSRUFNX1VSTCkKICAgICAgICBhd2FpdCBkYi5lZGl0X2NvbmZpZygiREVMQVkiLCBDb25maWcuREVMQVkpCiAgICAgICAgYXdhaXQgZGIuZWRpdF9jb25maWcoIlNDSEVEVUxFRF9TVFJFQU0iLCBDb25maWcuU0NIRURVTEVEX1NUUkVBTSkKICAgICAgICBhd2FpdCBkYi5lZGl0X2NvbmZpZygiU0NIRURVTEVfTElTVCIsIENvbmZpZy5TQ0hFRFVMRV9MSVNUKQogICAgICAgIGF3YWl0IGRiLmVkaXRfY29uZmlnKCJJU19WSURFT19SRUNPUkQiLCBDb25maWcuSVNfVklERU9fUkVDT1JEKQogICAgICAgIGF3YWl0IGRiLmVkaXRfY29uZmlnKCJJU19SRUNPUkRJTkciLCBDb25maWcuSVNfUkVDT1JESU5HKQogICAgICAgIGF3YWl0IGRiLmVkaXRfY29uZmlnKCJXQVNfUkVDT1JESU5HIiwgQ29uZmlnLldBU19SRUNPUkRJTkcpCiAgICAgICAgYXdhaXQgZGIuZWRpdF9jb25maWcoIlBPUlRSQUlUIiwgQ29uZmlnLlBPUlRSQUlUKQogICAgICAgIGF3YWl0IGRiLmVkaXRfY29uZmlnKCJSRUNPUkRJTkdfRFVNUCIsIENvbmZpZy5SRUNPUkRJTkdfRFVNUCkKICAgICAgICBhd2FpdCBkYi5lZGl0X2NvbmZpZygiUkVDT1JESU5HX1RJVExFIiwgQ29uZmlnLlJFQ09SRElOR19USVRMRSkKICAgICAgICBhd2FpdCBkYi5lZGl0X2NvbmZpZygiSEFTX1NDSEVEVUxFIiwgQ29uZmlnLkhBU19TQ0hFRFVMRSkKCmFzeW5jIGRlZiBzeW5jX2Zyb21fZGIoKToKICAgIGlmIENvbmZpZy5EQVRBQkFTRV9VUkk6ICAKICAgICAgICBhd2FpdCBjaGVja19kYigpICAgICAKICAgICAgICBDb25maWcuQURNSU5TID0gYXdhaXQgZGIuZ2V0X2NvbmZpZygiQURNSU5TIikgCiAgICAgICAgQ29uZmlnLklTX1ZJREVPID0gYXdhaXQgZGIuZ2V0X2NvbmZpZygiSVNfVklERU8iKQogICAgICAgIENvbmZpZy5JU19MT09QID0gYXdhaXQgZGIuZ2V0X2NvbmZpZygiSVNfTE9PUCIpCiAgICAgICAgQ29uZmlnLlJFUExZX1BNID0gYXdhaXQgZGIuZ2V0X2NvbmZpZygiUkVQTFlfUE0iKQogICAgICAgIENvbmZpZy5BRE1JTl9PTkxZID0gYXdhaXQgZGIuZ2V0X2NvbmZpZygiQURNSU5fT05MWSIpCiAgICAgICAgQ29uZmlnLlNIVUZGTEUgPSBhd2FpdCBkYi5nZXRfY29uZmlnKCJTSFVGRkxFIikKICAgICAgICBDb25maWcuRURJVF9USVRMRSA9IGF3YWl0IGRiLmdldF9jb25maWcoIkVESVRfVElUTEUiKQogICAgICAgIENvbmZpZy5DSEFUID0gaW50KGF3YWl0IGRiLmdldF9jb25maWcoIkNIQVQiKSkKICAgICAgICBDb25maWcucGxheWxpc3QgPSBhd2FpdCBkYi5nZXRfcGxheWxpc3QoKQogICAgICAgIENvbmZpZy5MT0dfR1JPVVAgPSBhd2FpdCBkYi5nZXRfY29uZmlnKCJMT0dfR1JPVVAiKQogICAgICAgIENvbmZpZy5TVURPID0gYXdhaXQgZGIuZ2V0X2NvbmZpZygiU1VETyIpIAogICAgICAgIENvbmZpZy5SRVBMWV9NRVNTQUdFID0gYXdhaXQgZGIuZ2V0X2NvbmZpZygiUkVQTFlfTUVTU0FHRSIpIAogICAgICAgIENvbmZpZy5ERUxBWSA9IGF3YWl0IGRiLmdldF9jb25maWcoIkRFTEFZIikgCiAgICAgICAgQ29uZmlnLlNUUkVBTV9VUkwgPSBhd2FpdCBkYi5nZXRfY29uZmlnKCJTVFJFQU1fVVJMIikgCiAgICAgICAgQ29uZmlnLlNDSEVEVUxFRF9TVFJFQU0gPSBhd2FpdCBkYi5nZXRfY29uZmlnKCJTQ0hFRFVMRURfU1RSRUFNIikgCiAgICAgICAgQ29uZmlnLlNDSEVEVUxFX0xJU1QgPSBhd2FpdCBkYi5nZXRfY29uZmlnKCJTQ0hFRFVMRV9MSVNUIikKICAgICAgICBDb25maWcuSVNfVklERU9fUkVDT1JEID0gYXdhaXQgZGIuZ2V0X2NvbmZpZygnSVNfVklERU9fUkVDT1JEJykKICAgICAgICBDb25maWcuSVNfUkVDT1JESU5HID0gYXdhaXQgZGIuZ2V0X2NvbmZpZygiSVNfUkVDT1JESU5HIikKICAgICAgICBDb25maWcuV0FTX1JFQ09SRElORyA9IGF3YWl0IGRiLmdldF9jb25maWcoJ1dBU19SRUNPUkRJTkcnKQogICAgICAgIENvbmZpZy5QT1JUUkFJVCA9IGF3YWl0IGRiLmdldF9jb25maWcoIlBPUlRSQUlUIikKICAgICAgICBDb25maWcuUkVDT1JESU5HX0RVTVAgPSBhd2FpdCBkYi5nZXRfY29uZmlnKCJSRUNPUkRJTkdfRFVNUCIpCiAgICAgICAgQ29uZmlnLlJFQ09SRElOR19USVRMRSA9IGF3YWl0IGRiLmdldF9jb25maWcoIlJFQ09SRElOR19USVRMRSIpCiAgICAgICAgQ29uZmlnLkhBU19TQ0hFRFVMRSA9IGF3YWl0IGRiLmdldF9jb25maWcoIkhBU19TQ0hFRFVMRSIpCgphc3luYyBkZWYgYWRkX3RvX2RiX3BsYXlsaXN0KHNvbmcpOgogICAgaWYgQ29uZmlnLkRBVEFCQVNFX1VSSToKICAgICAgICBzb25nXz17c3RyKGspOnYgZm9yIGssdiBpbiBzb25nLml0ZW1zKCl9CiAgICAgICAgZGIuYWRkX3RvX3BsYXlsaXN0KHNvbmdbNV0sIHNvbmdfKQoKYXN5bmMgZGVmIGNsZWFyX2RiX3BsYXlsaXN0KHNvbmc9Tm9uZSwgYWxsPUZhbHNlKToKICAgIGlmIENvbmZpZy5EQVRBQkFTRV9VUkk6CiAgICAgICAgaWYgYWxsOgogICAgICAgICAgICBhd2FpdCBkYi5jbGVhcl9wbGF5bGlzdCgpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgYXdhaXQgZGIuZGVsX3Nvbmcoc29uZ1s1XSkKCmFzeW5jIGRlZiBjaGVja19kYigpOgogICAgaWYgbm90IGF3YWl0IGRiLmlzX3NhdmVkKCJBRE1JTlMiKToKICAgICAgICBkYi5hZGRfY29uZmlnKCJBRE1JTlMiLCBDb25maWcuQURNSU5TKQogICAgaWYgbm90IGF3YWl0IGRiLmlzX3NhdmVkKCJJU19WSURFTyIpOgogICAgICAgIGRiLmFkZF9jb25maWcoIklTX1ZJREVPIiwgQ29uZmlnLklTX1ZJREVPKQogICAgaWYgbm90IGF3YWl0IGRiLmlzX3NhdmVkKCJJU19MT09QIik6CiAgICAgICAgZGIuYWRkX2NvbmZpZygiSVNfTE9PUCIsIENvbmZpZy5JU19MT09QKQogICAgaWYgbm90IGF3YWl0IGRiLmlzX3NhdmVkKCJSRVBMWV9QTSIpOgogICAgICAgIGRiLmFkZF9jb25maWcoIlJFUExZX1BNIiwgQ29uZmlnLlJFUExZX1BNKQogICAgaWYgbm90IGF3YWl0IGRiLmlzX3NhdmVkKCJBRE1JTl9PTkxZIik6CiAgICAgICAgZGIuYWRkX2NvbmZpZygiQURNSU5fT05MWSIsIENvbmZpZy5BRE1JTl9PTkxZKQogICAgaWYgbm90IGF3YWl0IGRiLmlzX3NhdmVkKCJTSFVGRkxFIik6CiAgICAgICAgZGIuYWRkX2NvbmZpZygiU0hVRkZMRSIsIENvbmZpZy5TSFVGRkxFKQogICAgaWYgbm90IGF3YWl0IGRiLmlzX3NhdmVkKCJFRElUX1RJVExFIik6CiAgICAgICAgZGIuYWRkX2NvbmZpZygiRURJVF9USVRMRSIsIENvbmZpZy5FRElUX1RJVExFKQogICAgaWYgbm90IGF3YWl0IGRiLmlzX3NhdmVkKCJDSEFUIik6CiAgICAgICAgZGIuYWRkX2NvbmZpZygiQ0hBVCIsIENvbmZpZy5DSEFUKQogICAgaWYgbm90IGF3YWl0IGRiLmlzX3NhdmVkKCJTVURPIik6CiAgICAgICAgZGIuYWRkX2NvbmZpZygiU1VETyIsIENvbmZpZy5TVURPKQogICAgaWYgbm90IGF3YWl0IGRiLmlzX3NhdmVkKCJSRVBMWV9NRVNTQUdFIik6CiAgICAgICAgZGIuYWRkX2NvbmZpZygiUkVQTFlfTUVTU0FHRSIsIENvbmZpZy5SRVBMWV9NRVNTQUdFKQogICAgaWYgbm90IGF3YWl0IGRiLmlzX3NhdmVkKCJTVFJFQU1fVVJMIik6CiAgICAgICAgZGIuYWRkX2NvbmZpZygiU1RSRUFNX1VSTCIsIENvbmZpZy5TVFJFQU1fVVJMKQogICAgaWYgbm90IGF3YWl0IGRiLmlzX3NhdmVkKCJERUxBWSIpOgogICAgICAgIGRiLmFkZF9jb25maWcoIkRFTEFZIiwgQ29uZmlnLkRFTEFZKQogICAgaWYgbm90IGF3YWl0IGRiLmlzX3NhdmVkKCJMT0dfR1JPVVAiKToKICAgICAgICBkYi5hZGRfY29uZmlnKCJMT0dfR1JPVVAiLCBDb25maWcuTE9HX0dST1VQKQogICAgaWYgbm90IGF3YWl0IGRiLmlzX3NhdmVkKCJTQ0hFRFVMRURfU1RSRUFNIik6CiAgICAgICAgZGIuYWRkX2NvbmZpZygiU0NIRURVTEVEX1NUUkVBTSIsIENvbmZpZy5TQ0hFRFVMRURfU1RSRUFNKQogICAgaWYgbm90IGF3YWl0IGRiLmlzX3NhdmVkKCJTQ0hFRFVMRV9MSVNUIik6CiAgICAgICAgZGIuYWRkX2NvbmZpZygiU0NIRURVTEVfTElTVCIsIENvbmZpZy5TQ0hFRFVMRV9MSVNUKQogICAgaWYgbm90IGF3YWl0IGRiLmlzX3NhdmVkKCJJU19WSURFT19SRUNPUkQiKToKICAgICAgICBkYi5hZGRfY29uZmlnKCJJU19WSURFT19SRUNPUkQiLCBDb25maWcuSVNfVklERU9fUkVDT1JEKQogICAgaWYgbm90IGF3YWl0IGRiLmlzX3NhdmVkKCJQT1JUUkFJVCIpOgogICAgICAgIGRiLmFkZF9jb25maWcoIlBPUlRSQUlUIiwgQ29uZmlnLlBPUlRSQUlUKSAgCiAgICBpZiBub3QgYXdhaXQgZGIuaXNfc2F2ZWQoIklTX1JFQ09SRElORyIpOgogICAgICAgIGRiLmFkZF9jb25maWcoIklTX1JFQ09SRElORyIsIENvbmZpZy5JU19SRUNPUkRJTkcpCiAgICBpZiBub3QgYXdhaXQgZGIuaXNfc2F2ZWQoJ1dBU19SRUNPUkRJTkcnKToKICAgICAgICBkYi5hZGRfY29uZmlnKCdXQVNfUkVDT1JESU5HJywgQ29uZmlnLldBU19SRUNPUkRJTkcpCiAgICBpZiBub3QgYXdhaXQgZGIuaXNfc2F2ZWQoIlJFQ09SRElOR19EVU1QIik6CiAgICAgICAgZGIuYWRkX2NvbmZpZygiUkVDT1JESU5HX0RVTVAiLCBDb25maWcuUkVDT1JESU5HX0RVTVApCiAgICBpZiBub3QgYXdhaXQgZGIuaXNfc2F2ZWQoIlJFQ09SRElOR19USVRMRSIpOgogICAgICAgIGRiLmFkZF9jb25maWcoIlJFQ09SRElOR19USVRMRSIsIENvbmZpZy5SRUNPUkRJTkdfVElUTEUpCiAgICBpZiBub3QgYXdhaXQgZGIuaXNfc2F2ZWQoJ0hBU19TQ0hFRFVMRScpOgogICAgICAgIGRiLmFkZF9jb25maWcoIkhBU19TQ0hFRFVMRSIsIENvbmZpZy5IQVNfU0NIRURVTEUpCgphc3luYyBkZWYgZWRpdF9jb25maWcodmFyLCB2YWx1ZSk6CiAgICBpZiB2YXIgPT0gIlNUQVJUVVBfU1RSRUFNIjoKICAgICAgICBDb25maWcuU1RSRUFNX1VSTCA9IHZhbHVlCiAgICBlbGlmIHZhciA9PSAiQ0hBVCI6CiAgICAgICAgQ29uZmlnLkNIQVQgPSBpbnQodmFsdWUpCiAgICBlbGlmIHZhciA9PSAiTE9HX0dST1VQIjoKICAgICAgICBDb25maWcuTE9HX0dST1VQID0gaW50KHZhbHVlKQogICAgZWxpZiB2YXIgPT0gIkRFTEFZIjoKICAgICAgICBDb25maWcuREVMQVkgPSBpbnQodmFsdWUpCiAgICBlbGlmIHZhciA9PSAiUkVQTFlfTUVTU0FHRSI6CiAgICAgICAgQ29uZmlnLlJFUExZX01FU1NBR0UgPSB2YWx1ZQogICAgZWxpZiB2YXIgPT0gIlJFQ09SRElOR19EVU1QIjoKICAgICAgICBDb25maWcuUkVDT1JESU5HX0RVTVAgPSB2YWx1ZQogICAgYXdhaXQgc3luY190b19kYigpCgogICAgCg=='))